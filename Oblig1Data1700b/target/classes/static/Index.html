<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bestilling av kinobiletter</title>
    <script type="application/javascript">
        function velgFilm(){
            document.write(document.getElementById("film").value);
        }
        let Biletter = [];
        function showBilletter(){


            let out = "<table><tr>" +
                "<th>Film </th>" +
                "<th>Antall</th>" +
                "<th>Fornavn </th>" +
                "<th>Etternavn </th>" +
                "<th>Telefonnr </th>" +
                "<th>Epost </th>" +
                "</tr>";
            for (let p of Biletter) {
                out += "<tr>";
                out +=
                    "<td>" + p.film + "</td>" +
                    "<td>" + p.antall + "</td>" +
                    "<td>" + p.fornavn + "</td>" +
                    "<td>" + p.etternavn + "</td>" +
                    "<td>" + p.telefonnr + "</td>" +
                    "<td>" + p.epost + "</td>";
                out +=
                    "</tr>"
            }
                out+=
                    "</table>"

                document.getElementById("Biletter").innerHTML=out;
        }

        function Register() {
            const film = document.getElementById("film").value;
            const antall = document.getElementById("antall").value;
            const fornavn = document.getElementById("fornavn").value;
            const etternavn = document.getElementById("etternavn").value;
            const telefonnr = document.getElementById("telefonnr").value;
            const epost = document.getElementById("epost").value;

            const billett = {
                film : film,
                antall : antall,
                fornavn : fornavn,
                etternavn : etternavn,
                telefonnr : telefonnr,
                epost : epost
            };

            document.getElementById("film").value="";
            document.getElementById("antall").value="";
            document.getElementById("fornavn").value="";
            document.getElementById("etternavn").value="";
            document.getElementById("telefonnr").value="";
            document.getElementById("epost").value="";

            if (antall != "" && fornavn != "" && etternavn != "" && telefonnr != "" && epost != ""){
                Biletter.push(billett)
            }

            let feilMessage = "Feltet kan ikke være tomt"
            if(film == ""){
                document.getElementById("feilMeldingFilm").style.color="red";
                document.getElementById("feilMeldingFilm").innerHTML=feilMessage
            }
            else{
                document.getElementById("feilMeldingFilm").innerHTML=""
            }
            if(antall == ""){
                document.getElementById("feilMeldingAntall").style.color="red";
                document.getElementById("feilMeldingAntall").innerHTML=feilMessage
            }
            else{
                document.getElementById("feilMeldingAntall").innerHTML=""
            }

            if(fornavn == ""){
               document.getElementById("feilMeldingFnavn").style.color="red";
               document.getElementById("feilMeldingFnavn").innerHTML=feilMessage
            }
            else{
                document.getElementById("feilMeldingFnavn").innerHTML=""
            }
            if(etternavn == "") {
                document.getElementById("feilMeldingEnavn").style.color = "red";
                document.getElementById("feilMeldingEnavn").innerHTML = feilMessage
            }
            else{
                document.getElementById("feilMeldingEnavn").innerHTML=""
            }
            if(telefonnr == "") {
                document.getElementById("feilMeldingTlf").style.color = "red";
                document.getElementById("feilMeldingTlf").innerHTML = feilMessage
            }
            else{
                document.getElementById("feilMeldingTlf").innerHTML=""
            }
            if(epost == ""){
                document.getElementById("feilMeldingEpost").style.color="red";
                document.getElementById("feilMeldingEpost").innerHTML=feilMessage
            }
            else{
                document.getElementById("feilMeldingEpost").innerHTML=""
            }

            showBilletter()

        }


        function slettBilettene(){
            Biletter = []
            console.log(Biletter)
            document.getElementById("Biletter").innerHTML= []
        };
    </script>
    <style>
        Antall{
            width: 700px;
            padding: 5px;
        }
        Film{
            width: 700px;
            padding: 5px;
        }
        Fornavn{
            width: 700px;
            padding: 5px;
        }
        Etternavn{
            width: 700px;
            padding: 5px;
        }
        Telefonnr{
            width: 700px;
            padding: 5px;
        }
        Epost{
            width: 700px;
            padding: 5px;
        }

        info{
            width: 700px;
            padding: 5px;
        }

        h3{
            color: black;
        }

        p{
            display : inline;
           
        }

    </style>

</head>
<body>

    <h1><strong>Bestilling av kinobiletter</strong></h1>

<!--Skriv velg film, så Lag en dropdown meny med forskjellige filmer som kan velges-->


    Film : <select id="film" onChange="">
        <option> </option>
        <option>Hercules</option>
        <option>Uncharted</option>
        <option>Dora</option>
    </select>
    <p id="feilMeldingFilm"></p>
    <br>
    <br>
<!--Skriv så ordet "Antall", så en input box hvor man kan skrive inn antall-->
    Antall : <input id="antall" type="number" value=""/> <p id="feilMeldingAntall"></p>
    <br>                                 
    <br>
<!--Så Skriv "Fornavn", så ett input felt for å skrive inn fornavn-->
    Fornavn : <input id="fornavn" type="text" value=""/> <p id="feilMeldingFnavn"></p>
    <br>
    <br>
<!--Så skriv "Etternavn", så ett input felt for å skrive inn etternavn-->
    Etternavn : <input id="etternavn" type="text" value=""/> <p id="feilMeldingEnavn"></p>
    <br>
    <br>
<!--Så skriv "Telefonnr", så ett input felt for å skrive inn telefonnummer-->
    Telefonnr : <input id="telefonnr" type="number" value=""/> <p id="feilMeldingTlf"></p>
    <br>
    <br>
<!--Så skriv "Epost", så ett input felt for å skrive inn epost-->
    Epost : <input id="epost" type="text" value=""/> <p id="feilMeldingEpost"></p>
    <br>
    <br>
<!--Så lag en knapp hvor det står kjøp billett. Om noen av feltene er tomme når knappen
trykkes, skal det komme feilmelding etter det respektive feltet og det skal ikke lagres noe-->
        <button onClick="Register()">Kjøp Billett</button>
    <br>
    <br>

<!--Så skriv "Alle billetter"-->
    <h2>Alle billetter</h2>

<br>
    <div id="Biletter"></div>
<br>
<br>
    <div id="feilMessage"></div>
<!--Så skal array av billettene listes under alle billetter, slik at en ny billett kan registreres-->
<!--Så en knapp hvor det står slett alle billettene, som skal slette alle billetter.-->
    <button onClick="slettBilettene()">Slett alle bilettene</button>
</body>
</html>
